<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>숫자야구</title>
  </head>
  <body>
    <form id="form">
      <input type="text" id="input" />
      <button>확인</button>
    </form>
    <div id="logs"></div>
    <script>
      const $input = document.querySelector('#input');
      const $form = document.querySelector('#form');
      const $logs = document.querySelector('#logs');

      const numbers = []; //[1,2,3,4,5,6,7,8,9]
      for (let i = 0; i < 9; i++) {
        numbers.push(i + 1);
      }

      //number 배열(인덱스 : 0~8)에서 뽑아서 answer 배열로
      const answer = [];
      for (let i = 0; i < 4; i++) {
        const index = Math.floor(Math.random() * numbers.length); //length가 9,8,7,6 됨(9 - i)
        answer.push(numbers[index]);
        numbers.splice(index, 1); //index부터 1개 제거
      }
      console.log(answer);

      const tries = [];
      function checkInput(input) {
        // 길이 체크
        if (input.length !== 4) {
          return alert('4자리 숫자로 입력하세요');
        }
        // 중복 체크, Set : 중복이 없는 배열
        if (new Set(input).size !== 4) {
          return alert('중복되지 않게 입력하세요');
        }
        // 시도한 값 체크
        if (tries.includes(input)) {
          return alert('이미 시도한 값입니다');
        }
        return true;
      }

      $form.addEventListener('submit', (event) => {
        event.preventDefault();
        //console.log(event.target[0]); // input 태그
        //console.log(event.target[1]); // button 태그
        const value = $input.value; // event.target.value
        $input.value = '';
        const isValid = checkInput(value);
        if (checkInput(value)) {
          tries.push(value);
        } else {
        }
      });
    </script>
  </body>
</html>

<!-- Math 객체 이용 1 이상 9 이하 정수 뽑기
0 <= Math.random() < 1
0 <= Math.random() * 9 < 9
1 <= Math.random() * 9 + 1 < 10
Math.floor() 소수점 내림

input 태그가 있으면 되도록 form 안에
form은 기본적으로 submit 후 새로고침

form 안의 event 객체는 target이라는 배열 프로퍼티를 가짐
event.target[index]로 form 안의 태그에 접근 가능 
 -->
